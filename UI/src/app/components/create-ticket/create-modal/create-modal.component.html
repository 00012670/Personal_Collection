<div class="p-3" [class.bg-light]="!isDarkMode" [class.bg-dark]="isDarkMode">
  <h2 class="mt-4">{{"Create Ticket" | translate}}</h2>
  <form [formGroup]="ticketForm" (ngSubmit)="onSubmit()">
    <div class="form-group mt-3">
      <label for="summary">{{"Summary" | translate}}</label>
      <input type="text" class="form-control mt-2" id="summary" formControlName="summary"
        placeholder="'Enter summary' | translate"
        [ngClass]="{'is-invalid': submitted && ticketForm.get('summary')!.errors}">
      <div *ngIf="submitted && ticketForm.get('summary')!.hasError('required')" class="invalid-feedback">
        {{ "Summary is required" | translate }}
      </div>
    </div>
    <div class="form-group mt-3">
      <label for="priority">{{"Priority" | translate}}</label>
      <select class="form-control mt-2" id="priority" formControlName="priority"
        [ngClass]="{'is-invalid': submitted && ticketForm.get('priority')!.errors}">
        <option value="" disabled selected>{{ "Select a priority" | translate }}</option>
        <option value="High">{{ "High" | translate }}</option>
        <option value="Average">{{ "Average" | translate }}</option>
        <option value="Low">{{ "Low" | translate }}</option>
      </select>
      <div *ngIf="submitted && ticketForm.get('priority')!.hasError('required')" class="invalid-feedback">
        {{ "Priority is required" | translate }}
      </div>
    </div>

    <div class="mt-4">
      <button type="submit" class="btn btn-primary">{{ "Create" | translate }}</button>
    </div>
  </form>
  <div *ngIf="ticketLink" class="mt-3">
    <p>{{ "Ticket created" | translate }}: <a [href]="ticketLink" target="_blank">{{ ticketLink }}</a></p>
  </div>
</div>
